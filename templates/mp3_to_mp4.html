{% extends 'base.html' %}

{% block title %}MP3 to MP4 Converter - Convert Audio to Video Online Free{% endblock %}
{% block description %}Convert MP3 audio files to MP4 video format online for free. Easy to use, no registration required, and secure conversion.{% endblock %}
{% block keywords %}mp3 to mp4, convert mp3 to mp4, audio to video converter, mp3 to video, free mp3 to mp4 converter, online mp3 to mp4, mp3 to mp4 online{% endblock %}

{% block hero_color %}#1565c0{% endblock %}
{% block hero_title %}MP3 to MP4 Converter{% endblock %}
{% block hero_subtitle %}Convert your MP3 audio files to MP4 video format. Free, secure, and no registration required.{% endblock %}

{% block button_gradient_start %}#1565c0{% endblock %}
{% block button_gradient_end %}#0d47a1{% endblock %}
{% block button_shadow_color %}rgba(21,101,192,0.3){% endblock %}
{% block button_shadow_hover_color %}rgba(21,101,192,0.4){% endblock %}

{% block step_title_color %}#ffffff{% endblock %}
{% block step_number_bg_color %}#1565c0{% endblock %}
{% block feature_title_color %}#ffffff{% endblock %}
{% block faq_title_color %}#ffffff{% endblock %}
{% block support_title_color %}#ffffff{% endblock %}

{% block additional_styles %}
.converter-container {
    background: #23263a;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    padding: 38px 32px 40px 32px;
    margin: 40px auto;
    max-width: 600px;
    border: 1px solid rgba(21,101,192,0.1);
    position: relative;
    overflow: hidden;
    text-align: center;
}
.converter-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #1565c0, #0d47a1);
}
.file-upload-container {
    position: relative;
    margin: 30px auto;
    max-width: 450px;
}
.file-upload-area {
    border: 2px dashed #1565c0;
    border-radius: 12px;
    padding: 40px 20px;
    text-align: center;
    background: #1a1d2e;
    transition: all 0.3s ease;
    cursor: pointer;
}
.file-upload-area:hover {
    border-color: #42a5f5;
    background: #1e2235;
}
.file-upload-area.dragover {
    border-color: #42a5f5;
    background: #1e2235;
    animation: pulse 1.5s infinite;
}
@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(21,101,192,0.4); }
    70% { box-shadow: 0 0 0 10px rgba(21,101,192,0); }
    100% { box-shadow: 0 0 0 0 rgba(21,101,192,0); }
}
.file-upload-icon {
    font-size: 48px;
    color: #1565c0;
    margin-bottom: 15px;
}
.file-upload-text {
    color: #e0e0e0;
    font-size: 1.1em;
    margin-bottom: 10px;
}
.file-upload-subtext {
    color: #9e9e9e;
    font-size: 0.9em;
}
.file-input {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
}
.convert-button {
    background: linear-gradient(90deg, #1565c0 0%, #0d47a1 100%);
    color: white;
    padding: 16px 32px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.2em;
    font-weight: bold;
    width: 100%;
    max-width: 300px;
    margin: 20px auto;
    display: block;
    box-shadow: 0 4px 12px rgba(21,101,192,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
    opacity: 0.7;
    pointer-events: none;
}
.convert-button.active {
    opacity: 1;
    pointer-events: auto;
}
.convert-button.active:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(21,101,192,0.25);
}
.file-info {
    background: #1a1d2e;
    border-radius: 8px;
    padding: 15px;
    margin: 20px auto;
    max-width: 450px;
    display: none;
}
.file-info.show {
    display: block;
    animation: fadeIn 0.5s ease-out;
}
.file-name {
    color: #e0e0e0;
    font-size: 1.1em;
    word-break: break-all;
    margin-bottom: 5px;
}
.file-size {
    color: #9e9e9e;
    font-size: 0.9em;
}
.file-actions {
    margin-top: 10px;
}
.file-remove {
    background: none;
    border: none;
    color: #f44336;
    cursor: pointer;
    font-size: 0.9em;
    padding: 5px 10px;
    border-radius: 4px;
    transition: background 0.2s;
}
.file-remove:hover {
    background: rgba(244,67,54,0.1);
}
.progress-container {
    margin: 20px auto;
    max-width: 450px;
    display: none;
}
.progress-container.show {
    display: block;
    animation: fadeIn 0.5s ease-out;
}
.progress-bar-container {
    background: #1a1d2e;
    border-radius: 10px;
    height: 10px;
    overflow: hidden;
    margin-bottom: 10px;
}
.progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #1565c0, #42a5f5);
    width: 0%;
    transition: width 0.3s ease;
}
.progress-text {
    color: #e0e0e0;
    font-size: 0.9em;
    text-align: center;
}
.result-container {
    margin: 20px auto;
    max-width: 450px;
    display: none;
}
.result-container.show {
    display: block;
    animation: fadeIn 0.5s ease-out;
}
.result-success {
    background: #1a1d2e;
    border-radius: 8px;
    padding: 20px;
    border-left: 4px solid #4caf50;
}
.result-error {
    background: #1a1d2e;
    border-radius: 8px;
    padding: 20px;
    border-left: 4px solid #f44336;
}
.result-title {
    color: #e0e0e0;
    font-size: 1.1em;
    margin-bottom: 10px;
}
.result-message {
    color: #9e9e9e;
    font-size: 0.9em;
    margin-bottom: 15px;
}
.download-button {
    background: linear-gradient(90deg, #43a047 0%, #2e7d32 100%);
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: bold;
    display: inline-block;
    box-shadow: 0 4px 12px rgba(67,160,71,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
}
.download-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(67,160,71,0.25);
}
.try-again-button {
    background: none;
    border: 1px solid #e0e0e0;
    color: #e0e0e0;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1em;
    margin-top: 15px;
    transition: background 0.2s;
}
.try-again-button:hover {
    background: rgba(255,255,255,0.1);
}
.options-container {
    margin: 20px auto;
    max-width: 450px;
    background: #1a1d2e;
    border-radius: 8px;
    padding: 15px;
    text-align: left;
}
.option-group {
    margin-bottom: 15px;
}
.option-group:last-child {
    margin-bottom: 0;
}
.option-label {
    display: block;
    color: #e0e0e0;
    font-size: 0.9em;
    margin-bottom: 5px;
}
.option-select {
    width: 100%;
    padding: 8px 12px;
    border-radius: 4px;
    border: 1px solid #2c2f45;
    background: #23263a;
    color: #e0e0e0;
    font-size: 0.9em;
}
.option-select:focus {
    outline: none;
    border-color: #1565c0;
}
.refresh-button {
    background: #1a1d2e;
    border: 1px solid #2c2f45;
    color: #e0e0e0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
    margin-left: 15px;
}
.refresh-button:hover {
    background: #2c2f45;
    transform: rotate(15deg);
}
.refresh-button svg {
    transition: transform 0.3s ease;
}
.refresh-button:hover svg {
    transform: rotate(45deg);
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
{% endblock %}

{% block content %}
<div class="converter-container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
        <div>
            <h2 style="color: #ffffff; margin-top: 0; text-align: left;">Convert MP3 to MP4</h2>
            <p style="color: #e0e0e0; margin-bottom: 0; text-align: left;">Transform your audio files into video format with our free online converter</p>
        </div>
        <button id="refresh-button" class="refresh-button" title="Start Over">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                <path d="M21 3v5h-5"></path>
                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                <path d="M3 21v-5h5"></path>
            </svg>
        </button>
    </div>

    <form id="upload-form" enctype="multipart/form-data">
        <div class="file-upload-container">
            <div class="file-upload-area" id="drop-area">
                <div class="file-upload-icon">🎵</div>
                <div class="file-upload-text">Drag & drop your MP3 file here</div>
                <div class="file-upload-subtext">or click to browse files</div>
                <input type="file" id="file-input" name="file" class="file-input" accept=".mp3">
            </div>
        </div>

        <div class="file-info" id="file-info">
            <div class="file-name" id="file-name"></div>
            <div class="file-size" id="file-size"></div>
            <div class="file-actions">
                <button type="button" class="file-remove" id="file-remove">Remove</button>
            </div>
        </div>

        <div class="options-container">
            <div class="option-group">
                <label class="option-label" for="background-color">Background Color:</label>
                <select class="option-select" id="background-color">
                    <option value="black">Black</option>
                    <option value="white">White</option>
                    <option value="blue">Blue</option>
                    <option value="green">Green</option>
                    <option value="red">Red</option>
                </select>
            </div>
            <div class="option-group">
                <label class="option-label" for="video-quality">Video Quality:</label>
                <select class="option-select" id="video-quality">
                    <option value="standard">Standard (480p)</option>
                    <option value="hd" selected>HD (720p)</option>
                    <option value="full-hd">Full HD (1080p)</option>
                </select>
            </div>
        </div>

        <button type="button" id="convert-button" class="convert-button">Convert to MP4</button>
    </form>

    <div class="progress-container" id="progress-container">
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="progress-text" id="progress-text">Converting... 0%</div>
    </div>

    <div class="result-container" id="result-success">
        <div class="result-success">
            <div class="result-title">Processing Successful!</div>
            <div class="result-message">Your MP3 file has been successfully processed. Note: Due to system limitations, we're providing the MP3 file directly. To convert to MP4, you may need to use a desktop application.</div>
            <button class="download-button" id="download-button">Download Audio File</button>
        </div>
    </div>

    <div class="result-container" id="result-error">
        <div class="result-error">
            <div class="result-title">Conversion Failed</div>
            <div class="result-message" id="error-message">There was an error converting your file. Please try again.</div>
            <button class="try-again-button" id="try-again-button">Try Again</button>
        </div>
    </div>
</div>

<div class="how-it-works">
    <h2>How to Use Our MP3 to MP4 Converter</h2>
    <div class="how-to-steps">
        <div class="step">
            <h3><span>1</span>Upload Your MP3 File</h3>
            <p>Click the upload area or drag and drop your MP3 audio file into the designated box. Our tool accepts MP3 files of up to 50MB in size. The upload process is quick and secure, with no registration required.</p>
        </div>
        <div class="step">
            <h3><span>2</span>Choose Your Settings</h3>
            <p>Select your preferred background color for the video and choose the video quality. The background color will be displayed while your audio plays, and the video quality determines the resolution of your output MP4 file.</p>
        </div>
        <div class="step">
            <h3><span>3</span>Start Conversion</h3>
            <p>Click the "Convert to MP4" button to begin the conversion process. Our advanced algorithms will transform your MP3 audio into an MP4 video file while maintaining the original audio quality.</p>
        </div>
        <div class="step">
            <h3><span>4</span>Download Your Audio File</h3>
            <p>After processing is complete, click the "Download" button to save your audio file. Due to system limitations, we're currently providing the processed MP3 file directly. To convert to MP4 video format, you may need to use a desktop application like VLC Media Player or Adobe Premiere.</p>
        </div>
    </div>
</div>

<div class="features">
    <h2>Features of Our MP3 to MP4 Converter</h2>
    <div class="feature-cards">
        <div class="feature-card">
            <h3>🔒 Secure Conversion</h3>
            <p>Your MP3 files are processed securely on our servers and automatically deleted after conversion. We never share your files with third parties, ensuring complete privacy and confidentiality.</p>
        </div>
        <div class="feature-card">
            <h3>⚡ Fast Processing</h3>
            <p>Our optimized conversion engine processes your MP3 files quickly, typically completing conversions in seconds. Save time with our efficient service that doesn't compromise on quality.</p>
        </div>
        <div class="feature-card">
            <h3>📱 No Installation Required</h3>
            <p>Access our converter directly from your web browser without downloading or installing any software. Works on all platforms including Windows, Mac, Linux, iOS, and Android.</p>
        </div>
        <div class="feature-card">
            <h3>🔍 Quality Preservation</h3>
            <p>Our processing system maintains the original audio quality of your MP3 files. We provide the processed audio file directly, which you can then convert to MP4 using desktop software if needed.</p>
        </div>
        <div class="feature-card">
            <h3>🎨 Simple Interface</h3>
            <p>Our tool provides a clean, user-friendly interface for uploading and processing your MP3 files. The interface is designed to be intuitive and easy to use, even for beginners.</p>
        </div>
        <div class="feature-card">
            <h3>💸 Completely Free</h3>
            <p>Enjoy unlimited MP3 to MP4 conversions without any cost. No hidden fees, no subscriptions, and no watermarks—just a reliable, free service for all your audio-to-video conversion needs.</p>
        </div>
    </div>
</div>

<div class="faq">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-item">
        <h3>Why would I need to convert MP3 to MP4?</h3>
        <p>Converting MP3 to MP4 is useful when you want to upload audio content to video platforms like YouTube, share audio on social media that requires video format, create simple music videos, or add audio to presentations. MP4 is a video container format that can include both audio and video streams.</p>
    </div>
    <div class="faq-item">
        <h3>What happens to my audio quality during processing?</h3>
        <p>Our system maintains the original audio quality of your MP3 file. We provide the processed audio file directly without any quality loss, preserving all audio characteristics including bitrate, frequency, and stereo/mono settings.</p>
    </div>
    <div class="faq-item">
        <h3>Is there a file size limit for conversion?</h3>
        <p>Yes, our free converter has a file size limit of 50MB per MP3 file. This limit accommodates most standard audio files, including songs, podcasts, and short audio recordings. If you need to convert larger files, consider splitting your MP3 into smaller parts before uploading.</p>
    </div>
    <div class="faq-item">
        <h3>How secure is my data during the conversion process?</h3>
        <p>We take data security seriously. All file transfers are secured with encryption, and your files are automatically deleted from our servers after conversion or after a short period (typically 24 hours) if you don't download them. We do not access, view, or share the content of your files with any third parties.</p>
    </div>
    <div class="faq-item">
        <h3>What video quality should I choose?</h3>
        <p>The choice depends on your needs. Standard quality (480p) creates smaller files that are suitable for basic sharing and viewing. HD (720p) offers a good balance between quality and file size. Full HD (1080p) provides the highest quality but results in larger files. Choose based on where you plan to use the video and your bandwidth considerations.</p>
    </div>
    <div class="faq-item">
        <h3>Why am I receiving an MP3 file instead of an MP4?</h3>
        <p>Due to system limitations, our tool currently provides the processed MP3 file directly. To convert this to an MP4 video, you can use free desktop software like VLC Media Player, Windows Movie Maker, or online services that support this conversion. We're working on adding direct MP4 conversion in a future update.</p>
    </div>
</div>
{% endblock %}

{% block twitter_path %}/tools/free-online-converter/mp3-to-mp4{% endblock %}
{% block twitter_text %}Convert+MP3+to+MP4+for+free+with+this+online+tool!{% endblock %}
{% block facebook_path %}/tools/free-online-converter/mp3-to-mp4{% endblock %}
{% block linkedin_path %}/tools/free-online-converter/mp3-to-mp4{% endblock %}
{% block linkedin_title %}Free+Online+MP3+to+MP4+Converter{% endblock %}
{% block linkedin_summary %}Transform+your+audio+files+into+video+format+easily{% endblock %}
{% block pinterest_path %}/tools/free-online-converter/mp3-to-mp4{% endblock %}
{% block pinterest_description %}MP3+to+MP4+Converter+-+Transform+audio+to+video+online+free{% endblock %}
{% block whatsapp_text %}Check+out+this+free+MP3+to+MP4+Converter:+http://127.0.0.1:5000/tools/free-online-converter/mp3-to-mp4{% endblock %}

{% block body_scripts %}
<script>
    const dropArea = document.getElementById('drop-area');
    const fileInput = document.getElementById('file-input');
    const fileInfo = document.getElementById('file-info');
    const fileName = document.getElementById('file-name');
    const fileSize = document.getElementById('file-size');
    const fileRemove = document.getElementById('file-remove');
    const convertButton = document.getElementById('convert-button');
    const progressContainer = document.getElementById('progress-container');
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const resultSuccess = document.getElementById('result-success');
    const resultError = document.getElementById('result-error');
    const downloadButton = document.getElementById('download-button');
    const tryAgainButton = document.getElementById('try-again-button');
    const refreshButton = document.getElementById('refresh-button');
    const errorMessage = document.getElementById('error-message');

    let selectedFile = null;

    // Prevent default drag behaviors
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, preventDefaults, false);
        document.body.addEventListener(eventName, preventDefaults, false);
    });

    // Highlight drop area when item is dragged over it
    ['dragenter', 'dragover'].forEach(eventName => {
        dropArea.addEventListener(eventName, highlight, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, unhighlight, false);
    });

    // Handle dropped files
    dropArea.addEventListener('drop', handleDrop, false);

    // Handle selected files from file input
    fileInput.addEventListener('change', handleFiles);

    // Handle convert button
    convertButton.addEventListener('click', startConversion);

    // Handle try again button
    tryAgainButton.addEventListener('click', resetConverter);

    // Handle download button
    downloadButton.addEventListener('click', downloadResult);

    // Handle file remove button
    fileRemove.addEventListener('click', removeFile);

    // Handle refresh button
    refreshButton.addEventListener('click', resetConverter);

    function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
    }

    function highlight() {
        dropArea.classList.add('dragover');
    }

    function unhighlight() {
        dropArea.classList.remove('dragover');
    }

    function handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        handleFiles({ target: { files } });
    }

    function handleFiles(e) {
        const files = e.target.files;
        if (files.length) {
            const file = files[0];

            // Check if file is an MP3
            if (!file.type.includes('audio/mpeg') && !file.name.toLowerCase().endsWith('.mp3')) {
                showError('Please select a valid MP3 file.');
                return;
            }

            // Check file size (max 50MB)
            if (file.size > 50 * 1024 * 1024) {
                showError('File size exceeds the 50MB limit. Please select a smaller file.');
                return;
            }

            // Store the selected file
            selectedFile = file;

            // Update file info display
            fileName.textContent = file.name;
            fileSize.textContent = formatFileSize(file.size);
            fileInfo.classList.add('show');

            // Enable convert button
            convertButton.classList.add('active');
        }
    }

    function formatFileSize(bytes) {
        if (bytes === 0) return '0 Bytes';

        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));

        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }

    function removeFile() {
        selectedFile = null;
        fileInput.value = '';
        fileInfo.classList.remove('show');
        convertButton.classList.remove('active');
    }

    function startConversion() {
        if (!selectedFile) return;

        // Hide file info and convert button
        fileInfo.style.display = 'none';
        convertButton.style.display = 'none';
        document.querySelector('.options-container').style.display = 'none';

        // Show progress
        progressContainer.classList.add('show');
        progressBar.style.width = '0%';

        // Create FormData object
        const formData = new FormData();

        // Add file to form data
        formData.append('file', selectedFile);

        // Add options to form data
        formData.append('background_color', document.getElementById('background-color').value);
        formData.append('video_quality', document.getElementById('video-quality').value);

        // Start progress animation
        let progress = 0;
        const interval = setInterval(() => {
            progress += Math.random() * 5;
            if (progress > 95) progress = 95; // Cap at 95% until actual completion

            progressBar.style.width = progress + '%';
            progressText.textContent = `Converting... ${Math.round(progress)}%`;
        }, 200);

        // Send the file to the server
        fetch('/tools/free-online-converter/mp3-to-mp4', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            clearInterval(interval);
            progressBar.style.width = '100%';
            progressText.textContent = 'Converting... 100%';

            setTimeout(() => {
                progressContainer.classList.remove('show');

                if (data.success) {
                    // Show success message
                    resultSuccess.classList.add('show');

                    // Store the download URL for later use
                    downloadButton.setAttribute('data-url', data.download_url);
                } else {
                    showError(data.error || 'An unknown error occurred');
                }
            }, 500);
        })
        .catch(error => {
            clearInterval(interval);
            progressContainer.classList.remove('show');
            showError('Network error: ' + error.message);
        });
    }

    function showError(message) {
        resultError.classList.add('show');
        errorMessage.textContent = message;
    }

    function resetConverter() {
        // Reset everything
        selectedFile = null;
        fileInput.value = '';
        fileInfo.style.display = 'block';
        fileInfo.classList.remove('show');
        progressContainer.classList.remove('show');
        resultSuccess.classList.remove('show');
        resultError.classList.remove('show');

        // Show convert button and options again
        convertButton.style.display = 'block';
        document.querySelector('.options-container').style.display = 'block';
        convertButton.classList.remove('active');
    }

    function downloadResult() {
        const downloadUrl = downloadButton.getAttribute('data-url');
        if (downloadUrl) {
            window.location.href = downloadUrl;
        }
    }
</script>
{% endblock %}