{% extends 'base.html' %}

{% block title %}Password Generator - Create Strong Secure Passwords Online{% endblock %}
{% block description %}Create strong and secure passwords instantly. Customize length and include special characters for added security with our free online password generator.{% endblock %}
{% block keywords %}password generator, secure password, online password generator, strong password, random password, password security{% endblock %}

{% block hero_color %}#0d5522{% endblock %}
{% block hero_title %}Password Generator{% endblock %}
{% block hero_subtitle %}Create strong and secure passwords instantly. Customize length and include special characters for added security.{% endblock %}

{% block button_gradient_start %}#0d5522{% endblock %}
{% block button_gradient_end %}#083818{% endblock %}
{% block button_shadow_color %}rgba(13,85,34,0.3){% endblock %}
{% block button_shadow_hover_color %}rgba(13,85,34,0.4){% endblock %}

{% block step_title_color %}#0d5522{% endblock %}
{% block step_number_bg_color %}#0d5522{% endblock %}
{% block feature_title_color %}#0d5522{% endblock %}
{% block faq_title_color %}#0d5522{% endblock %}
{% block support_title_color %}#0d5522{% endblock %}

{% block additional_styles %}
.generator-container {
    background: #23263a;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    padding: 38px 32px 40px 32px;
    margin: 40px auto;
    max-width: 600px;
    border: 1px solid rgba(13,85,34,0.1);
    position: relative;
    overflow: hidden;
    text-align: center;
}
.generator-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #0d5522, #083818);
}
.length-container {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 20px 0;
}
.length-container label {
    color: #e0e0e0;
    font-size: 1.1em;
    margin-right: 10px;
}
.length-container input {
    width: 80px;
    padding: 12px 10px;
    border: 2px solid #0d5522;
    border-radius: 8px;
    background: #181a20;
    color: #e0e0e0;
    font-size: 1.1em;
    text-align: center;
    margin: 0 10px;
    box-shadow: 0 4px 12px rgba(13,85,34,0.12);
    transition: all 0.2s ease;
}
.length-container input:hover {
    border-color: #0d5522;
    box-shadow: 0 6px 16px rgba(13,85,34,0.18);
}
.length-container input:focus {
    border: 2px solid #ffc107;
    outline: none;
    box-shadow: 0 6px 16px rgba(255,193,7,0.15);
    transform: translateY(-2px);
}
.length-container span {
    color: #e0e0e0;
    font-size: 1.1em;
    margin-left: 10px;
}
.options-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin: 20px 0;
}
.option-item {
    display: flex;
    align-items: center;
    background: #1a1d2e;
    padding: 12px 15px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
    border: 1px solid rgba(13,85,34,0.1);
}
.option-item:hover {
    box-shadow: 0 6px 16px rgba(13,85,34,0.15);
    transform: translateY(-2px);
}
.option-item input[type="checkbox"] {
    margin-right: 8px;
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: #0d5522;
}
.option-item label {
    cursor: pointer;
    user-select: none;
    color: #e0e0e0;
}
.generate-btn {
    background: linear-gradient(90deg, #0d5522 0%, #083818 100%);
    color: white;
    padding: 16px 32px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.2em;
    font-weight: bold;
    width: 100%;
    max-width: 300px;
    margin: 32px auto 0 auto;
    display: block;
    box-shadow: 0 4px 12px rgba(13,85,34,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
}
.generate-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(13,85,34,0.25);
}
.password-display {
    margin: 36px auto;
    padding: 28px;
    background: #1a1d2e;
    border-radius: 10px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    text-align: center;
    border: 1px solid rgba(13,85,34,0.15);
    max-width: 500px;
    position: relative;
    display: none;
}
.password-display.show {
    display: block;
    animation: fadeIn 0.6s ease-out;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}
.password-display h3 {
    color: #ffffff;
    margin-top: 0;
}
.password-text {
    font-family: 'Courier New', monospace;
    font-size: 1.4em;
    word-break: break-all;
    margin: 20px 0;
    padding: 15px;
    background: #23263a;
    border-radius: 8px;
    border: 1px dashed #0d5522;
    color: #e0e0e0;
}
.copy-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: linear-gradient(90deg, #0d5522 0%, #083818 100%);
    color: white;
    border: none;
    border-radius: 4px;
    padding: 8px 12px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s ease;
}
.copy-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(13,85,34,0.25);
}
.strength-meter {
    margin-top: 20px;
    text-align: left;
}
.strength-meter div {
    color: #e0e0e0;
    margin-bottom: 8px;
}
.strength-bar {
    height: 10px;
    border-radius: 5px;
    background: #23263a;
    margin-top: 5px;
    overflow: hidden;
}
.strength-fill {
    height: 100%;
    width: 0%;
    transition: width 0.5s ease;
}
.weak { background-color: #dc3545; }
.medium { background-color: #ffc107; }
.strong { background-color: #28a745; }
.very-strong { background-color: #20c997; }
.loading-spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    border-top-color: #0d5522;
    animation: spin 1s ease-in-out infinite;
    vertical-align: middle;
    margin-left: 10px;
}
@keyframes spin {
    to { transform: rotate(360deg); }
}
.result {
    margin-top: 20px;
    font-size: 1.2em;
    color: #e0e0e0;
}
.refresh-btn:hover {
    background: #23263a !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(13,85,34,0.25);
}
.refresh-btn:hover span {
    transform: rotate(180deg);
}
.how-to-use-step {
    background: #1a1d2e;
    border-radius: 12px;
    padding: 20px 15px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    position: relative;
    margin-top: 20px;
}
.step-number {
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 40px;
    line-height: 40px;
    background-color: #0d5522;
    color: white;
    border-radius: 50%;
    font-size: 1.3em;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
{% endblock %}

{% block content %}
<div class="generator-container">
    <h2 style="color: #ffffff; margin-top: 0;">Customize Your Password</h2>

    <div class="length-container">
        <label for="length">Password Length:</label>
        <input type="number" id="length" value="12" min="4" max="64">
        <span id="length-value">12 characters</span>
    </div>

    <div class="options-container">
        <div class="option-item">
            <input type="checkbox" id="include-symbols" checked>
            <label for="include-symbols">Include Symbols (!@#$%)</label>
        </div>
        <div class="option-item">
            <input type="checkbox" id="include-numbers" checked>
            <label for="include-numbers">Include Numbers (123)</label>
        </div>
        <div class="option-item">
            <input type="checkbox" id="include-uppercase" checked>
            <label for="include-uppercase">Include Uppercase (ABC)</label>
        </div>
        <div class="option-item">
            <input type="checkbox" id="include-lowercase" checked>
            <label for="include-lowercase">Include Lowercase (abc)</label>
        </div>
    </div>

    <div style="display: flex; justify-content: center; gap: 15px; max-width: 600px; margin: 32px auto 0;">
        <button class="generate-btn" style="margin: 0; flex: 3;" onclick="generatePassword()">Generate Secure Password</button>
        <button class="refresh-btn" style="background: #1a1d2e; color: white; padding: 16px; border: 1px solid #0d5522; border-radius: 8px; cursor: pointer; font-size: 1.2em; flex: 1; transition: all 0.3s ease;" onclick="clearPassword()">
            <span style="display: inline-block; transform-origin: center; transition: transform 0.5s ease;">↻</span>
        </button>
    </div>

    <div class="password-display" id="password-display">
        <button class="copy-btn" id="copy-btn">Copy</button>
        <h3>Your Generated Password:</h3>
        <div class="password-text" id="password-text"></div>
        <div class="strength-meter">
            <div>Password Strength: <span id="strength-text">Strong</span></div>
            <div class="strength-bar">
                <div class="strength-fill" id="strength-fill"></div>
            </div>
        </div>
    </div>

    <div class="result" id="result"></div>
</div>

<div class="how-it-works">
    <h2>How to Use Our Password Generator</h2>
    <div class="how-to-steps">
        <div class="step">
            <h3><span>1</span>Set Password Length</h3>
            <p>Choose how long you want your password to be. Longer passwords (12+ characters) provide better security against brute force attacks.</p>
        </div>
        <div class="step">
            <h3><span>2</span>Select Character Types</h3>
            <p>Choose which types of characters to include. For maximum security, use a mix of uppercase, lowercase, numbers, and symbols.</p>
        </div>
        <div class="step">
            <h3><span>3</span>Generate & Copy</h3>
            <p>Click the generate button to create your password, then use the copy button to easily paste it wherever you need it.</p>
        </div>
    </div>
</div>

<div class="features">
    <h2>Features of Our Password Generator</h2>
    <div class="feature-cards">
        <div class="feature-card">
            <h3>🔒 Strong Security</h3>
            <p>Generate cryptographically secure random passwords that are extremely difficult to crack or guess, keeping your accounts safe.</p>
        </div>
        <div class="feature-card">
            <h3>⚙️ Customizable Options</h3>
            <p>Tailor your password by adjusting length and character types to meet specific requirements for different websites and services.</p>
        </div>
        <div class="feature-card">
            <h3>📊 Strength Indicator</h3>
            <p>Instantly see how strong your generated password is with our visual strength meter that evaluates complexity and security.</p>
        </div>
        <div class="feature-card">
            <h3>📋 One-Click Copy</h3>
            <p>Copy your new password to clipboard with a single click, making it easy to paste into login forms or password managers.</p>
        </div>
        <div class="feature-card">
            <h3>🔄 Generate Multiple</h3>
            <p>Create as many passwords as you need by clicking the generate button again, with no limits or restrictions.</p>
        </div>
        <div class="feature-card">
            <h3>🔐 Privacy First</h3>
            <p>All passwords are generated locally in your browser - we never store, transmit, or have access to your generated passwords.</p>
        </div>
    </div>
</div>

<div class="faq">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-item">
        <h3>How secure are the passwords generated by this tool?</h3>
        <p>Our password generator uses cryptographically secure random number generation to create passwords that are extremely difficult to predict or crack. The security level increases with password length and character variety.</p>
    </div>
    <div class="faq-item">
        <h3>What makes a strong password?</h3>
        <p>A strong password is typically at least 12 characters long and includes a mix of uppercase letters, lowercase letters, numbers, and special symbols. It should avoid common words, patterns, or personal information.</p>
    </div>
    <div class="faq-item">
        <h3>Are my generated passwords stored anywhere?</h3>
        <p>No. All passwords are generated locally in your browser. We never store, transmit, or have access to your generated passwords. Once you leave the page, the password is gone unless you've copied it.</p>
    </div>
    <div class="faq-item">
        <h3>How often should I change my passwords?</h3>
        <p>Security experts now recommend changing passwords only when there's a reason to believe they've been compromised, rather than on a fixed schedule. Using unique, strong passwords for each account is more important than frequent changes.</p>
    </div>
    <div class="faq-item">
        <h3>What's the best way to remember all my passwords?</h3>
        <p>The most secure approach is to use a reputable password manager that can store all your unique passwords in an encrypted vault. This way, you only need to remember one master password.</p>
    </div>
</div>
{% endblock %}

{% block twitter_path %}/tools/online-calculators/password-generator{% endblock %}
{% block twitter_text %}Generate+secure+passwords+with+this+free+online+tool!{% endblock %}
{% block facebook_path %}/tools/online-calculators/password-generator{% endblock %}
{% block linkedin_path %}/tools/online-calculators/password-generator{% endblock %}
{% block linkedin_title %}Free+Online+Password+Generator{% endblock %}
{% block linkedin_summary %}Create+strong+and+secure+passwords+instantly+with+this+free+tool{% endblock %}
{% block pinterest_path %}/tools/online-calculators/password-generator{% endblock %}
{% block pinterest_description %}Free+Online+Password+Generator+-+Create+strong+and+secure+passwords+instantly{% endblock %}
{% block whatsapp_text %}Check+out+this+free+password+generator+tool:+http://127.0.0.1:5000/tools/online-calculators/password-generator{% endblock %}

{% block body_scripts %}
<script>
    // Update length value display when input changes
    document.getElementById('length').addEventListener('input', function() {
        const length = this.value;
        document.getElementById('length-value').textContent = `${length} characters`;
    });

    // Clear password and reset form
    function clearPassword() {
        document.getElementById('password-display').style.display = 'none';
        document.getElementById('result').innerHTML = '';

        // Add rotation animation to refresh button
        const refreshIcon = document.querySelector('.refresh-btn span');
        refreshIcon.style.transform = 'rotate(360deg)';

        // Reset rotation after animation completes
        setTimeout(() => {
            refreshIcon.style.transform = 'rotate(0deg)';
        }, 500);
    }

    // Copy password to clipboard
    document.getElementById('copy-btn').addEventListener('click', function() {
        const passwordText = document.getElementById('password-text').textContent;
        navigator.clipboard.writeText(passwordText).then(() => {
            this.textContent = 'Copied!';
            setTimeout(() => {
                this.textContent = 'Copy';
            }, 2000);
        });
    });

    async function generatePassword() {
        const length = parseInt(document.getElementById('length').value);
        const includeSymbols = document.getElementById('include-symbols').checked;
        const includeNumbers = document.getElementById('include-numbers').checked;
        const includeUppercase = document.getElementById('include-uppercase').checked;
        const includeLowercase = document.getElementById('include-lowercase').checked;

        // Validate inputs
        if (isNaN(length) || length < 4 || length > 64) {
            document.getElementById('result').innerHTML = '<p style="color: #ff6b6b;">Please enter a valid length between 4 and 64.</p>';
            document.getElementById('password-display').style.display = 'none';
            return;
        }

        if (!includeSymbols && !includeNumbers && !includeUppercase && !includeLowercase) {
            document.getElementById('result').innerHTML = '<p style="color: #ff6b6b;">Please select at least one character type.</p>';
            document.getElementById('password-display').style.display = 'none';
            return;
        }

        // Show loading indicator
        document.getElementById('result').innerHTML = '<p>Generating password... <span class="loading-spinner"></span></p>';
        document.getElementById('password-display').style.display = 'none';

        try {
            // Create form data
            const formData = new FormData();
            formData.append('length', length);
            formData.append('include_symbols', includeSymbols ? 'on' : 'off');
            formData.append('include_numbers', includeNumbers ? 'on' : 'off');
            formData.append('include_uppercase', includeUppercase ? 'on' : 'off');
            formData.append('include_lowercase', includeLowercase ? 'on' : 'off');

            // Call our backend API
            const response = await fetch('/tools/online-calculators/password-generator', {
                method: 'POST',
                body: formData
            });

            const data = await response.json();

            if (data.success) {
                // Clear result area
                document.getElementById('result').innerHTML = '';

                // Display password
                document.getElementById('password-text').textContent = data.password;
                document.getElementById('password-display').style.display = 'block';

                // Calculate and display password strength
                const strength = calculatePasswordStrength(data.password);
                document.getElementById('strength-text').textContent = strength.text;
                const strengthFill = document.getElementById('strength-fill');
                strengthFill.style.width = `${strength.percentage}%`;

                // Remove all classes and add the appropriate one
                strengthFill.classList.remove('weak', 'medium', 'strong', 'very-strong');
                strengthFill.classList.add(strength.class);
            } else {
                document.getElementById('result').innerHTML = `<p style="color: #ff6b6b;">Error: ${data.error}</p>`;
                document.getElementById('password-display').style.display = 'none';
            }
        } catch (error) {
            document.getElementById('result').innerHTML = '<p style="color: #ff6b6b;">Error: Could not generate password. Please try again later.</p>';
            document.getElementById('password-display').style.display = 'none';
        }
    }

    function calculatePasswordStrength(password) {
        // Calculate password strength based on various factors
        let score = 0;

        // Length factor
        if (password.length >= 12) {
            score += 25;
        } else if (password.length >= 8) {
            score += 15;
        } else {
            score += 5;
        }

        // Character variety factors
        if (/[A-Z]/.test(password)) score += 15; // Uppercase
        if (/[a-z]/.test(password)) score += 15; // Lowercase
        if (/[0-9]/.test(password)) score += 15; // Numbers
        if (/[^A-Za-z0-9]/.test(password)) score += 20; // Special characters

        // Variety of characters
        const uniqueChars = new Set(password.split('')).size;
        score += Math.min(10, uniqueChars / 2);

        // Determine strength category
        let strengthClass, strengthText;

        if (score >= 80) {
            strengthClass = 'very-strong';
            strengthText = 'Very Strong';
        } else if (score >= 60) {
            strengthClass = 'strong';
            strengthText = 'Strong';
        } else if (score >= 40) {
            strengthClass = 'medium';
            strengthText = 'Medium';
        } else {
            strengthClass = 'weak';
            strengthText = 'Weak';
        }

        return {
            percentage: score,
            class: strengthClass,
            text: strengthText
        };
    }
</script>
{% endblock %}
