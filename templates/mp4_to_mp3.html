{% extends 'base.html' %}

{% block title %}Video to Audio Converter - Extract Audio from Any Video Format Online Free{% endblock %}
{% block description %}Convert any video format to MP3 audio online for free. Works with MP4, AVI, MOV, WMV, MKV and more. No registration required, secure browser-based conversion.{% endblock %}
{% block keywords %}video to audio, convert video to mp3, video to audio converter, extract audio from video, free video to audio converter, online video to audio, video to audio online, mp4 to mp3, avi to mp3, mov to mp3, wmv to mp3, mkv to mp3{% endblock %}

{% block hero_color %}#1565c0{% endblock %}
{% block hero_title %}Video to Audio Converter{% endblock %}
{% block hero_subtitle %}Extract audio from your video files. Free, secure, and no registration required.{% endblock %}

{% block button_gradient_start %}#1565c0{% endblock %}
{% block button_gradient_end %}#0d47a1{% endblock %}
{% block button_shadow_color %}rgba(21,101,192,0.3){% endblock %}
{% block button_shadow_hover_color %}rgba(21,101,192,0.4){% endblock %}

{% block step_title_color %}#ffffff{% endblock %}
{% block step_number_bg_color %}#1565c0{% endblock %}
{% block feature_title_color %}#ffffff{% endblock %}
{% block faq_title_color %}#ffffff{% endblock %}
{% block support_title_color %}#ffffff{% endblock %}

{% block additional_styles %}
.converter-container {
    background: #23263a;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    padding: 38px 32px 40px 32px;
    margin: 40px auto;
    max-width: 600px;
    border: 1px solid rgba(21,101,192,0.1);
    position: relative;
    overflow: hidden;
    text-align: center;
}
.converter-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #1565c0, #0d47a1);
}
.file-upload-container {
    position: relative;
    margin: 30px auto;
    max-width: 450px;
}
.file-upload-area {
    border: 2px dashed #1565c0;
    border-radius: 12px;
    padding: 40px 20px;
    text-align: center;
    background: #1a1d2e;
    transition: all 0.3s ease;
    cursor: pointer;
}
.file-upload-area:hover {
    border-color: #42a5f5;
    background: #1e2235;
}
.file-upload-area.dragover {
    border-color: #42a5f5;
    background: #1e2235;
    animation: pulse 1.5s infinite;
}
@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(21,101,192,0.4); }
    70% { box-shadow: 0 0 0 10px rgba(21,101,192,0); }
    100% { box-shadow: 0 0 0 0 rgba(21,101,192,0); }
}
.file-upload-icon {
    font-size: 48px;
    color: #1565c0;
    margin-bottom: 15px;
}
.file-upload-text {
    color: #e0e0e0;
    font-size: 1.1em;
    margin-bottom: 10px;
}
.file-upload-subtext {
    color: #9e9e9e;
    font-size: 0.9em;
}
.file-input {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
}
.convert-button {
    background: linear-gradient(90deg, #1565c0 0%, #0d47a1 100%);
    color: white;
    padding: 16px 32px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.2em;
    font-weight: bold;
    width: 100%;
    max-width: 300px;
    margin: 20px auto;
    display: block;
    box-shadow: 0 4px 12px rgba(21,101,192,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
    opacity: 0.7;
    pointer-events: none;
}
.convert-button.active {
    opacity: 1;
    pointer-events: auto;
}
.convert-button.active:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(21,101,192,0.25);
}
.file-info {
    background: #1a1d2e;
    border-radius: 8px;
    padding: 15px;
    margin: 20px auto;
    max-width: 450px;
    display: none;
}
.file-info.show {
    display: block;
    animation: fadeIn 0.5s ease-out;
}
.file-name {
    color: #e0e0e0;
    font-size: 1.1em;
    word-break: break-all;
    margin-bottom: 5px;
}
.file-size {
    color: #9e9e9e;
    font-size: 0.9em;
}
.file-actions {
    margin-top: 10px;
}
.file-remove {
    background: none;
    border: none;
    color: #f44336;
    cursor: pointer;
    font-size: 0.9em;
    padding: 5px 10px;
    border-radius: 4px;
    transition: background 0.2s;
}
.file-remove:hover {
    background: rgba(244,67,54,0.1);
}
.progress-container {
    margin: 20px auto;
    max-width: 450px;
    display: none;
}
.progress-container.show {
    display: block;
    animation: fadeIn 0.5s ease-out;
}
.progress-bar-container {
    background: #1a1d2e;
    border-radius: 10px;
    height: 10px;
    overflow: hidden;
    margin-bottom: 10px;
}
.progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #1565c0, #42a5f5);
    width: 0%;
    transition: width 0.3s ease;
}
.progress-text {
    color: #e0e0e0;
    font-size: 0.9em;
    text-align: center;
}
.result-container {
    margin: 20px auto;
    max-width: 450px;
    display: none;
}
.result-container.show {
    display: block;
    animation: fadeIn 0.5s ease-out;
}
.result-success {
    background: #1a1d2e;
    border-radius: 8px;
    padding: 20px;
    border-left: 4px solid #4caf50;
}
.result-error {
    background: #1a1d2e;
    border-radius: 8px;
    padding: 20px;
    border-left: 4px solid #f44336;
}
.result-title {
    color: #e0e0e0;
    font-size: 1.1em;
    margin-bottom: 10px;
}
.result-message {
    color: #9e9e9e;
    font-size: 0.9em;
    margin-bottom: 15px;
    white-space: pre-line;
}
.download-button {
    background: linear-gradient(90deg, #43a047 0%, #2e7d32 100%);
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: bold;
    display: inline-block;
    box-shadow: 0 4px 12px rgba(67,160,71,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
}
.download-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(67,160,71,0.25);
}
.try-again-button {
    background: none;
    border: 1px solid #e0e0e0;
    color: #e0e0e0;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1em;
    margin-top: 15px;
    transition: background 0.2s;
}
.try-again-button:hover {
    background: rgba(255,255,255,0.1);
}
.options-container {
    margin: 20px auto;
    max-width: 450px;
    background: #1a1d2e;
    border-radius: 8px;
    padding: 15px;
    text-align: left;
}
.option-group {
    margin-bottom: 15px;
}
.option-group:last-child {
    margin-bottom: 0;
}
.option-label {
    display: block;
    color: #e0e0e0;
    font-size: 0.9em;
    margin-bottom: 5px;
}
.option-select {
    width: 100%;
    padding: 8px 12px;
    border-radius: 4px;
    border: 1px solid #2c2f45;
    background: #23263a;
    color: #e0e0e0;
    font-size: 0.9em;
}
.option-select:focus {
    outline: none;
    border-color: #1565c0;
}
.refresh-button {
    background: #1a1d2e;
    border: 1px solid #2c2f45;
    color: #e0e0e0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
    margin-left: 15px;
}
.refresh-button:hover {
    background: #2c2f45;
    transform: rotate(15deg);
}
.refresh-button svg {
    transition: transform 0.3s ease;
}
.refresh-button:hover svg {
    transform: rotate(45deg);
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
{% endblock %}

{% block content %}
<div class="converter-container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
        <div>
            <h2 style="color: #ffffff; margin-top: 0; text-align: left;">Convert Any Video to MP3</h2>
            <p style="color: #e0e0e0; margin-bottom: 0; text-align: left;">Extract high-quality MP3 audio from any video format with our free online converter</p>
        </div>
        <button id="refresh-button" class="refresh-button" title="Start Over">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                <path d="M21 3v5h-5"></path>
                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                <path d="M3 21v-5h5"></path>
            </svg>
        </button>
    </div>

    <form id="upload-form" enctype="multipart/form-data">
        <div class="file-upload-container">
            <div class="file-upload-area" id="drop-area">
                <div class="file-upload-icon">üé¨</div>
                <div class="file-upload-text">Drag & drop your video file here</div>
                <div class="file-upload-subtext">or click to browse files</div>
                <input type="file" id="file-input" name="file" class="file-input" accept="video/*">
            </div>
        </div>

        <div class="file-info" id="file-info">
            <div class="file-name" id="file-name"></div>
            <div class="file-size" id="file-size"></div>
            <div class="file-actions">
                <button type="button" class="file-remove" id="file-remove">Remove</button>
            </div>
        </div>

        <div class="options-container">
            <div class="option-group">
                <label class="option-label" for="audio-quality">Audio Quality:</label>
                <select class="option-select" id="audio-quality">
                    <option value="high" selected>High Quality (320 kbps)</option>
                    <option value="medium">Medium Quality (192 kbps)</option>
                    <option value="low">Low Quality (128 kbps)</option>
                </select>
            </div>
        </div>

        <button type="button" id="convert-button" class="convert-button">Extract Audio</button>
    </form>

    <div class="progress-container" id="progress-container">
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="progress-text" id="progress-text">Converting... 0%</div>
    </div>

    <div class="result-container" id="result-success">
        <div class="result-success">
            <div class="result-title">Conversion Successful!</div>
            <div class="result-message" id="success-message">Your MP4 file has been successfully converted to audio format.</div>
            <button class="download-button" id="download-button">Download Audio</button>
        </div>
    </div>

    <div class="result-container" id="result-error" style="display: none;">
        <div class="result-error">
            <div class="result-title">Conversion Failed</div>
            <div class="result-message" id="error-message">There was an error converting your file. Please try again.</div>
            <button class="try-again-button" id="try-again-button">Try Again</button>
        </div>
    </div>
</div>

<div class="how-it-works">
    <h2>How to Use Our Video to Audio Converter</h2>
    <div class="how-to-steps">
        <div class="step">
            <h3><span>1</span>Upload Your Video File</h3>
            <p>Click the upload area or drag and drop your video file into the designated box. Our tool accepts all common video formats (MP4, AVI, MOV, WMV, MKV, etc.) up to 1GB in size. The upload process is quick and secure, with no registration required.</p>
        </div>
        <div class="step">
            <h3><span>2</span>Choose Audio Quality</h3>
            <p>Select your preferred audio quality for the output MP3 file. Higher quality (320 kbps) provides better sound but results in larger file sizes, while lower quality creates smaller files that are ideal for mobile devices or when storage space is limited.</p>
        </div>
        <div class="step">
            <h3><span>3</span>Start Conversion</h3>
            <p>Click the "Extract Audio" button to begin the process. Our advanced conversion technology will process your video file, extracting the audio track and converting it to MP3 format while preserving the audio quality according to your selected settings.</p>
        </div>
        <div class="step">
            <h3><span>4</span>Download Your MP3</h3>
            <p>After conversion is complete, click the "Download MP3" button to save your file. The MP3 file is ready for playback on any device, including smartphones, tablets, and computers. Your files are automatically deleted from our servers after download for your privacy.</p>
        </div>
    </div>
</div>

<div class="features">
    <h2>Features of Our Video to Audio Converter</h2>
    <div class="feature-cards">
        <div class="feature-card">
            <h3>üîí Secure Conversion</h3>
            <p>Your files are processed securely on our servers and automatically deleted after conversion. We prioritize your privacy and never store your files longer than necessary for the conversion process.</p>
        </div>
        <div class="feature-card">
            <h3>‚ö° Professional-Grade Conversion</h3>
            <p>Our converter uses advanced audio extraction technology, the same used by professional video editors and streaming platforms, to ensure the highest quality audio extraction from your videos with perfect synchronization.</p>
        </div>
        <div class="feature-card">
            <h3>üì± No Installation Required</h3>
            <p>Access our converter directly from your web browser without downloading or installing any software. Works on all modern browsers including Chrome, Firefox, Edge, and Safari across Windows, Mac, and Linux.</p>
        </div>
        <div class="feature-card">
            <h3>üîç Quality Options</h3>
            <p>Choose from multiple audio quality settings to balance file size and sound quality. High quality (320 kbps) provides premium sound, while lower settings create smaller files that are perfect for mobile devices.</p>
        </div>
        <div class="feature-card">
            <h3>üéß Universal Format Support</h3>
            <p>Convert audio from virtually any video format including MP4, AVI, MOV, WMV, MKV, FLV, WebM, and more. Our tool automatically detects the format and applies the appropriate conversion settings.</p>
        </div>
        <div class="feature-card">
            <h3>üí∏ Completely Free</h3>
            <p>Enjoy unlimited video to MP3 conversions without any cost. No hidden fees, no subscriptions, and no watermarks‚Äîjust a reliable, free service for all your video-to-audio conversion needs.</p>
        </div>
    </div>
</div>

<div class="faq">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-item">
        <h3>Why would I need to convert video to MP3?</h3>
        <p>Converting video to MP3 is useful when you want to extract audio from videos for listening on the go, creating music playlists from video content, reducing file size for storage, using audio clips in presentations or podcasts, or when you only need the audio portion of a video file.</p>
    </div>
    <div class="faq-item">
        <h3>How does the conversion process work?</h3>
        <p>Our tool uses professional-grade audio extraction technology. When you upload a video, our server processes it, extracts the audio track, and converts it to MP3 format with your chosen quality settings. This technology ensures high-quality results with perfect audio synchronization.</p>
    </div>
    <div class="faq-item">
        <h3>Is there a file size limit for conversion?</h3>
        <p>Yes, our free converter has a file size limit of 1GB per video file. This generous limit accommodates most standard videos, including music videos, movies, presentations, and longer recordings. For extremely large files over 1GB, consider trimming your video into smaller segments before uploading.</p>
    </div>
    <div class="faq-item">
        <h3>How secure is my data during the conversion process?</h3>
        <p>We take your privacy seriously. Your files are processed securely on our servers and are automatically deleted after conversion is complete and you've downloaded your MP3 file. We never store your files longer than necessary for the conversion process, typically less than an hour.</p>
    </div>
    <div class="faq-item">
        <h3>Which audio quality should I choose?</h3>
        <p>The choice depends on your needs. High quality (320 kbps) provides the best sound experience but creates larger files. Medium quality (192 kbps) offers a good balance between quality and file size. Low quality (128 kbps) creates the smallest files, suitable for mobile devices or when storage space is limited.</p>
    </div>
    <div class="faq-item">
        <h3>Can I convert other video formats to MP3?</h3>
        <p>Yes! Our tool supports all common video formats including MP4, AVI, MOV, WMV, MKV, FLV, and more. You can upload any video file and our converter will extract the audio and convert it to MP3 format directly in your browser.</p>
    </div>
</div>
{% endblock %}

{% block twitter_path %}/tools/free-online-converter/mp4-to-mp3{% endblock %}
{% block twitter_text %}Extract+audio+from+videos+for+free+with+this+online+tool!{% endblock %}
{% block facebook_path %}/tools/free-online-converter/mp4-to-mp3{% endblock %}
{% block linkedin_path %}/tools/free-online-converter/mp4-to-mp3{% endblock %}
{% block linkedin_title %}Free+Online+MP4+to+MP3+Converter{% endblock %}
{% block linkedin_summary %}Extract+audio+from+your+videos+easily+and+for+free{% endblock %}
{% block pinterest_path %}/tools/free-online-converter/mp4-to-mp3{% endblock %}
{% block pinterest_description %}MP4+to+MP3+Converter+-+Extract+audio+from+videos+online+free{% endblock %}
{% block whatsapp_text %}Check+out+this+free+MP4+to+MP3+Converter:+http://127.0.0.1:5000/tools/free-online-converter/mp4-to-mp3{% endblock %}

{% block body_scripts %}
<script>
const dropArea = document.getElementById('drop-area');
const fileInput = document.getElementById('file-input');
const fileInfo = document.getElementById('file-info');
const fileName = document.getElementById('file-name');
const fileSize = document.getElementById('file-size');
const fileRemove = document.getElementById('file-remove');
const convertButton = document.getElementById('convert-button');
const progressContainer = document.getElementById('progress-container');
const progressBar = document.getElementById('progress-bar');
const progressText = document.getElementById('progress-text');
const resultSuccess = document.getElementById('result-success');
const resultError = document.getElementById('result-error');
const downloadButton = document.getElementById('download-button');
const tryAgainButton = document.getElementById('try-again-button');
const refreshButton = document.getElementById('refresh-button');
const errorMessage = document.getElementById('error-message');
const successMessage = document.getElementById('success-message');

let selectedFile = null;
let downloadUrl = null;

// Hide error message initially
if (resultError) {
    resultError.classList.remove('show');
    resultError.style.display = 'none';
}

// Register UI event listeners
document.addEventListener('DOMContentLoaded', function() {
    // Make sure error container is hidden
    if (resultError) {
        resultError.style.display = 'none';
        resultError.classList.remove('show');
    }

    // Set up event listeners
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, preventDefaults, false);
        document.body.addEventListener(eventName, preventDefaults, false);
    });
    ['dragenter', 'dragover'].forEach(eventName => {
        dropArea.addEventListener(eventName, highlight, false);
    });
    ['dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, unhighlight, false);
    });

    dropArea.addEventListener('drop', handleDrop, false);
    fileInput.addEventListener('change', handleFiles);
    fileRemove.addEventListener('click', removeFile);
    convertButton.addEventListener('click', startConversion);
    tryAgainButton.addEventListener('click', resetConverter);
    downloadButton.addEventListener('click', downloadResult);
    refreshButton.addEventListener('click', function() {
        window.location.reload();
    });
});

function preventDefaults(e) {
    e.preventDefault();
    e.stopPropagation();
}

function highlight() {
    dropArea.classList.add('dragover');
}

function unhighlight() {
    dropArea.classList.remove('dragover');
}

function handleDrop(e) {
    const dt = e.dataTransfer;
    const files = dt.files;
    handleFiles({ target: { files } });
}

function handleFiles(e) {
    const files = e.target.files;
    if (files.length) {
        const file = files[0];
        const videoExtensions = ['mp4', 'avi', 'mov', 'wmv', 'flv', 'mkv', 'webm', 'mpeg', 'm4v', '3gp'];
        const fileExt = file.name.split('.').pop().toLowerCase();
        const isVideoByType = file.type.includes('video/');
        const isVideoByExtension = videoExtensions.includes(fileExt);

        if (!isVideoByType && !isVideoByExtension) {
            showError('Please select a valid video file. Supported formats include MP4, AVI, MOV, WMV, MKV, and more.');
            return;
        }

        if (file.size > 1024 * 1024 * 1024) {
            showError('File size exceeds the 1GB limit. Please select a smaller file.');
            return;
        }

        selectedFile = file;
        fileName.textContent = file.name;
        fileSize.textContent = formatFileSize(file.size);
        fileInfo.classList.add('show');
        convertButton.classList.add('active');

        if (resultError) {
            resultError.classList.remove('show');
            resultError.style.display = 'none';
        }
    }
}

function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}

function removeFile() {
    selectedFile = null;
    fileInput.value = '';
    fileInfo.classList.remove('show');
    convertButton.classList.remove('active');
}

function startConversion() {
    if (!selectedFile) {
        showError('Please select a video file first.');
        return;
    }

    // Hide file info and convert button
    fileInfo.style.display = 'none';
    convertButton.style.display = 'none';
    document.querySelector('.options-container').style.display = 'none';

    // Show progress
    progressContainer.classList.add('show');
    progressBar.style.width = '0%';
    progressText.textContent = 'Uploading file...';

    // Get options
    const audioQuality = document.getElementById('audio-quality').value;

    // Create form data for upload
    const formData = new FormData();
    formData.append('file', selectedFile);
    formData.append('audio_quality', audioQuality);

    // Start upload and conversion
    const xhr = new XMLHttpRequest();

    // Track upload progress
    xhr.upload.onprogress = function(e) {
        if (e.lengthComputable) {
            const percent = Math.round((e.loaded / e.total) * 50); // Upload is 50% of the process
            progressBar.style.width = percent + '%';
            progressText.textContent = `Uploading... ${percent}%`;
        }
    };

    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                try {
                    const response = JSON.parse(xhr.responseText);

                    if (response.success) {
                        // Show conversion progress
                        progressBar.style.width = '75%';
                        progressText.textContent = 'Processing audio...';

                        // Simulate conversion progress (server-side conversion doesn't provide progress updates)
                        setTimeout(() => {
                            progressBar.style.width = '100%';
                            progressText.textContent = 'Conversion complete!';

                            // Store download URL
                            downloadUrl = response.download_url;

                            // Show success message
                            setTimeout(() => {
                                progressContainer.classList.remove('show');
                                resultSuccess.classList.add('show');

                                // Check if there's a warning
                                if (response.warning) {
                                    successMessage.textContent = response.warning;
                                } else {
                                    successMessage.textContent = 'Your video has been successfully converted to MP3 audio format. Click the button below to download.';
                                }

                                downloadButton.textContent = 'Download MP3';
                            }, 500);
                        }, 1000);
                    } else {
                        showError(response.error || 'An error occurred during conversion.');
                    }
                } catch (e) {
                    showError('Invalid response from server.');
                }
            } else {
                showError('Server error: ' + (xhr.status === 0 ? 'Connection failed' : xhr.status));
            }
        }
    };

    xhr.onerror = function() {
        showError('Network error. Please check your connection and try again.');
    };

    // Send the request
    xhr.open('POST', window.location.href, true);
    xhr.send(formData);
}

function showError(message) {
    if (!resultError || !errorMessage) return;

    // Make sure the error container is visible
    resultError.style.display = 'block';
    resultError.classList.add('show');
    errorMessage.textContent = message;

    // Hide other containers
    if (progressContainer) progressContainer.classList.remove('show');
    if (resultSuccess) resultSuccess.classList.remove('show');

    // Scroll to the error message
    resultError.scrollIntoView({ behavior: 'smooth', block: 'center' });
}

function resetConverter() {
    // Reset everything
    selectedFile = null;
    fileInput.value = '';

    // Hide result containers
    if (fileInfo) fileInfo.classList.remove('show');
    if (progressContainer) progressContainer.classList.remove('show');
    if (resultSuccess) resultSuccess.classList.remove('show');
    if (resultError) {
        resultError.classList.remove('show');
        resultError.style.display = 'none';
    }

    // Show input elements
    convertButton.style.display = 'block';
    document.querySelector('.options-container').style.display = 'block';
    convertButton.classList.remove('active');
}

function downloadResult() {
    if (downloadUrl) {
        window.location.href = downloadUrl;
    }
}
</script>
{% endblock %}