{% extends 'base.html' %}

{% block title %}Loan Calculator - Calculate Your Monthly Payments Online{% endblock %}
{% block description %}Calculate your loan payments and interest rates easily. Get detailed monthly payment breakdowns and total interest costs with our free online loan calculator.{% endblock %}
{% block keywords %}loan calculator, EMI calculator, online loan calculator, free loan calculator, mortgage calculator, payment calculator{% endblock %}

{% block hero_color %}#0d5522{% endblock %}
{% block hero_title %}Loan Calculator{% endblock %}
{% block hero_subtitle %}Calculate your loan payments and interest rates easily. Get detailed monthly payment breakdowns.{% endblock %}

{% block button_gradient_start %}#0d5522{% endblock %}
{% block button_gradient_end %}#083818{% endblock %}
{% block button_shadow_color %}rgba(13,85,34,0.3){% endblock %}
{% block button_shadow_hover_color %}rgba(13,85,34,0.4){% endblock %}

{% block step_title_color %}#0d5522{% endblock %}
{% block step_number_bg_color %}#0d5522{% endblock %}
{% block feature_title_color %}#0d5522{% endblock %}
{% block faq_title_color %}#0d5522{% endblock %}
{% block support_title_color %}#0d5522{% endblock %}

{% block additional_styles %}
.hero {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.hero h1 {
    text-align: center;
    width: 100%;
    color: white;
    font-size: 3em;
    margin-bottom: 15px;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
}
.hero p {
    text-align: center;
    width: 100%;
    color: white;
    font-size: 1.3em;
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.5;
}
.calculator-container {
    background: #23263a;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    padding: 38px 32px 40px 32px;
    margin: 0 auto;
    max-width: 600px;
    border: 1px solid rgba(13,85,34,0.1);
    position: relative;
    overflow: hidden;
    text-align: center;
}
.calculator-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #0d5522, #083818);
}
.input-group {
    margin: 30px auto 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    max-width: 180px;
}
.input-field {
    width: 100%;
    margin-bottom: 10px;
    text-align: center;
}
.input-field label {
    display: block;
    margin-bottom: 10px;
    font-size: 1.15em;
    font-weight: 500;
    color: #e0e0e0;
}
.input-field input {
    width: 100%;
    padding: 12px 10px;
    border: 2px solid #0d5522;
    border-radius: 8px;
    background: #181a20;
    color: #e0e0e0;
    font-size: 1.25em;
    box-shadow: 0 4px 12px rgba(13,85,34,0.12);
    transition: all 0.2s ease;
    text-align: center;
    margin-bottom: 10px;
    box-sizing: border-box;
}
.input-field input:hover {
    border-color: #0d5522;
    box-shadow: 0 6px 16px rgba(13,85,34,0.18);
}
.input-field input:focus {
    border: 2px solid #ffc107;
    outline: none;
    box-shadow: 0 6px 16px rgba(255,193,7,0.15);
    transform: translateY(-2px);
}
.calculate-btn {
    background: linear-gradient(90deg, #0d5522 0%, #083818 100%);
    color: white;
    padding: 16px 32px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.2em;
    font-weight: bold;
    width: 100%;
    max-width: 240px;
    margin: 32px auto 0 auto;
    display: block;
    box-shadow: 0 4px 12px rgba(13,85,34,0.15);
    transition: transform 0.2s, box-shadow 0.2s;
}
.calculate-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(13,85,34,0.25);
}
.results {
    display: none;
    margin: 36px auto;
    padding: 28px;
    background: #1a1d2e;
    border-radius: 10px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    text-align: center;
    border: 1px solid rgba(13,85,34,0.15);
    max-width: 500px;
}
.results.show {
    display: block;
    animation: fadeIn 0.6s ease-out;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}
.result-item {
    margin: 14px 0;
    padding: 14px 16px;
    border-bottom: 1px solid #2c3040;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.2s;
    border-radius: 6px;
}
.result-item:hover {
    background-color: #23263a;
}
.result-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
}
.result-item strong {
    color: #ffffff;
    font-size: 1.05em;
    font-weight: 600;
}
.result-value {
    font-size: 1.15em;
    font-weight: 500;
    color: #e0e0e0;
    background: rgba(13,85,34,0.08);
    padding: 6px 12px;
    border-radius: 4px;
    min-width: 120px;
    text-align: center;
}
.reset-btn {
    background: #333;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 24px;
    margin-top: 20px;
    cursor: pointer;
    font-size: 1em;
    transition: background 0.2s;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}
.reset-btn:hover {
    background: #444;
}
.reset-btn svg {
    width: 16px;
    height: 16px;
}

/* FAQ Accordion Styles */
.faq-item {
    margin-bottom: 15px;
    border: 1px solid #333;
    border-radius: 8px;
    overflow: hidden;
    background-color: #23263a;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.faq-question {
    padding: 15px 20px;
    background-color: #1a1d2e;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.3s;
}
.faq-question:hover {
    background-color: #2a2e45;
}
.faq-question h3 {
    margin: 0;
    font-size: 1.1em;
    color: #ffffff;
}
.faq-question i {
    color: #ffffff;
    transition: transform 0.3s;
}
.faq-answer {
    padding: 20px;
    background-color: #23263a;
    display: none;
}
.faq-item.active .faq-question {
    background-color: #2a2e45;
}
.faq-item.active .faq-question i {
    transform: rotate(180deg);
}
{% endblock %}

{% block content %}
<div class="input-section">
    <div class="calculator-container">
        <div class="input-group">
            <div class="input-field">
                <label>Loan Amount:</label>
                <input type="number" id="loan-amount" placeholder="Enter amount" style="font-size: 1.1em; width: 150px;">
            </div>
            <div class="input-field">
                <label>Interest Rate (%):</label>
                <input type="number" id="interest-rate" placeholder="Enter rate" style="font-size: 1.1em; width: 150px;">
            </div>
            <div class="input-field">
                <label>Loan Term (Years):</label>
                <input type="number" id="loan-term" placeholder="Enter years" style="font-size: 1.1em; width: 150px;">
            </div>
        </div>

        <button class="calculate-btn" onclick="calculateLoan()">Calculate Loan</button>

        <div class="results" id="results">
            <h2>LOAN CALCULATION RESULTS</h2>
            <div id="result-details">
                <!-- Results will be inserted here by JavaScript -->
            </div>

            <button class="reset-btn" onclick="resetCalculator()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                    <path d="M3 3v5h5"></path>
                </svg>
                Calculate Again
            </button>
        </div>
    </div>
</div>

<div class="how-to" style="max-width: 900px; margin: 60px auto 40px;">
    <h2 style="text-align: center; margin-bottom: 30px; color: #fff;">How to Use Our Loan Calculator</h2>
    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 16px; margin-top: 28px;">
        <div style="flex: 1 1 220px; max-width: 260px; min-width: 200px; margin: 0; background: #23263a; color: #fff; padding: 20px 15px; border-radius: 12px; box-sizing: border-box; position: relative;">
            <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 40px; height: 40px; line-height: 40px; background-color: #0d5522; color: white; border-radius: 50%; font-size: 1.3em; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">1</div>
            <h3 style="color:#fff; margin-top: 20px; text-align: center; font-size: 1.2em;">Enter Loan Amount</h3>
            <p style="text-align:center; color:#e0e0e0; font-size:0.95em;">Input the total amount you plan to borrow. This is the principal amount of your loan before interest is applied.</p>
        </div>
        <div style="flex: 1 1 220px; max-width: 260px; min-width: 200px; margin: 0; background: #23263a; color: #fff; padding: 20px 15px; border-radius: 12px; box-sizing: border-box; position: relative;">
            <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 40px; height: 40px; line-height: 40px; background-color: #0d5522; color: white; border-radius: 50%; font-size: 1.3em; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">2</div>
            <h3 style="color:#fff; margin-top: 20px; text-align: center; font-size: 1.2em;">Set Interest Rate</h3>
            <p style="text-align:center; color:#e0e0e0; font-size:0.95em;">Enter the annual interest rate as a percentage. For example, if your rate is 5.5%, simply enter 5.5 in the field.</p>
        </div>
        <div style="flex: 1 1 220px; max-width: 260px; min-width: 200px; margin: 0; background: #23263a; color: #fff; padding: 20px 15px; border-radius: 12px; box-sizing: border-box; position: relative;">
            <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 40px; height: 40px; line-height: 40px; background-color: #0d5522; color: white; border-radius: 50%; font-size: 1.3em; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">3</div>
            <h3 style="color:#fff; margin-top: 20px; text-align: center; font-size: 1.2em;">View Detailed Results</h3>
            <p style="text-align:center; color:#e0e0e0; font-size:0.95em;">Get your monthly payment amount, total interest paid over the life of the loan, and the total cost including principal and interest.</p>
        </div>
    </div>
</div>

<!-- Why Use Our Loan Calculator Section -->
<div style="padding: 70px 20px; background: linear-gradient(135deg, #0d3b18, #0d5522); color: white; margin: 60px 0;">
    <div style="max-width: 1000px; margin: 0 auto; text-align: center;">
        <h2 style="font-size: 2.2em; margin-bottom: 40px; position: relative; display: inline-block;">
            Why Use Our Loan Calculator
            <span style="position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 80px; height: 3px; background: #ffc107;"></span>
        </h2>

        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; margin: 40px 0;">
            <div style="flex: 0 0 calc(50% - 15px); min-width: 300px; display: flex; margin-bottom: 30px;">
                <div style="background: #ffc107; width: 60px; height: 60px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; margin-right: 20px; box-shadow: 0 4px 10px rgba(255, 193, 7, 0.3);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                    </svg>
                </div>
                <div style="text-align: left;">
                    <h3 style="color: #ffc107; font-size: 1.4em; margin-bottom: 10px;">Make Informed Financial Decisions</h3>
                    <p style="color: #e0e0e0; line-height: 1.6;">Understanding the true cost of a loan helps you make better financial decisions. Our calculator shows you exactly how much you'll pay monthly and over the life of the loan, empowering you to choose the best option for your budget.</p>
                </div>
            </div>

            <div style="flex: 0 0 calc(50% - 15px); min-width: 300px; display: flex; margin-bottom: 30px;">
                <div style="background: #ffc107; width: 60px; height: 60px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; margin-right: 20px; box-shadow: 0 4px 10px rgba(255, 193, 7, 0.3);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                </div>
                <div style="text-align: left;">
                    <h3 style="color: #ffc107; font-size: 1.4em; margin-bottom: 10px;">Save Time and Effort</h3>
                    <p style="color: #e0e0e0; line-height: 1.6;">Manually calculating loan payments is complex and time-consuming. Our calculator instantly performs these calculations with precision, saving you hours of work and potential errors when comparing different loan options.</p>
                </div>
            </div>

            <div style="flex: 0 0 calc(50% - 15px); min-width: 300px; display: flex; margin-bottom: 30px;">
                <div style="background: #ffc107; width: 60px; height: 60px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; margin-right: 20px; box-shadow: 0 4px 10px rgba(255, 193, 7, 0.3);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                        <path d="M12 11h4"></path>
                        <path d="M12 16h4"></path>
                        <path d="M8 11h.01"></path>
                        <path d="M8 16h.01"></path>
                    </svg>
                </div>
                <div style="text-align: left;">
                    <h3 style="color: #ffc107; font-size: 1.4em; margin-bottom: 10px;">Plan Your Budget Effectively</h3>
                    <p style="color: #e0e0e0; line-height: 1.6;">Knowing your exact monthly payment helps you plan your budget with confidence. Our calculator gives you the precise figures you need to ensure your loan payments fit comfortably within your financial plan.</p>
                </div>
            </div>

            <div style="flex: 0 0 calc(50% - 15px); min-width: 300px; display: flex; margin-bottom: 30px;">
                <div style="background: #ffc107; width: 60px; height: 60px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; margin-right: 20px; box-shadow: 0 4px 10px rgba(255, 193, 7, 0.3);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                        <line x1="12" y1="22.08" x2="12" y2="12"></line>
                    </svg>
                </div>
                <div style="text-align: left;">
                    <h3 style="color: #ffc107; font-size: 1.4em; margin-bottom: 10px;">Compare Different Loan Options</h3>
                    <p style="color: #e0e0e0; line-height: 1.6;">Easily compare how different interest rates, loan amounts, and terms affect your payments. This helps you identify the most cost-effective loan option and potentially save thousands over the life of your loan.</p>
                </div>
            </div>
        </div>

        <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 30px; margin-top: 20px; text-align: left; backdrop-filter: blur(5px); box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
            <h3 style="color: #ffc107; font-size: 1.5em; margin-bottom: 15px;">Did You Know?</h3>
            <p style="color: #e0e0e0; line-height: 1.7; margin-bottom: 20px;">Even a small difference in interest rates can save you thousands of dollars over the life of a loan. For example, on a $300,000 30-year mortgage, the difference between a 4% and 4.5% interest rate is approximately $30,000 in total interest paid.</p>
            <p style="color: #e0e0e0; line-height: 1.7;">Our calculator helps you visualize these differences instantly, making it easier to negotiate better terms with lenders or choose between competing loan offers.</p>
        </div>

        <div style="margin-top: 40px;">
            <a href="#top" style="display: inline-block; padding: 14px 32px; background: #ffc107; color: #000; text-decoration: none; border-radius: 6px; font-weight: bold; font-size: 1.1em; transition: all 0.3s ease; box-shadow: 0 4px 10px rgba(255, 193, 7, 0.3);">Calculate Your Loan Now</a>
        </div>
    </div>
</div>

<div class="features">
    <h2>Features of Our Free Online Loan Calculator</h2>
    <div class="feature-cards">
        <div class="feature-card">
            <h3 style="color: #ffffff;">üìä Easy Monthly Payment Estimation</h3>
            <p>Quickly calculate your monthly loan payments based on the loan amount, interest rate, and repayment term‚Äîideal for personal, home, auto, or business loans.</p>
        </div>
        <div class="feature-card">
            <h3 style="color: #ffffff;">üß† Total Interest & Loan Cost Breakdown</h3>
            <p>Get a detailed view of your total interest paid and the overall cost of the loan. Understand exactly what you're paying over time.</p>
        </div>
        <div class="feature-card">
            <h3 style="color: #ffffff;">üîÅ Adjustable Terms & Rates</h3>
            <p>Customize your loan term (months or years) and interest rate with simple sliders or manual input. Perfect for comparing different loan offers or scenarios.</p>
        </div>
        <div class="feature-card">
            <h3 style="color: #ffffff;">üìà Amortization Schedule (Coming Soon!)</h3>
            <p>We're working on a feature that lets you view a complete amortization table showing how much of each payment goes toward interest and principal.</p>
        </div>
        <div class="feature-card">
            <h3 style="color: #ffffff;">üíæ No Sign-up or Downloads Required</h3>
            <p>Use the calculator directly in your browser with zero registration. It's fast, private, and works seamlessly across all devices.</p>
        </div>
        <div class="feature-card">
            <h3 style="color: #ffffff;">üñ•Ô∏è Mobile-Friendly & Cross-Device Support</h3>
            <p>Whether you're planning on a desktop or calculating on the go, our tool is fully responsive and optimized for smartphones, tablets, and modern browsers.</p>
        </div>
    </div>
</div>

<div class="faq">
    <h2>Frequently Asked Questions</h2>

    <div class="faq-item">
        <div class="faq-question">
            <h3>What is a loan calculator?</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">
            <p>A loan calculator is an online tool that helps you estimate your monthly payments, total interest, and the overall cost of a loan based on the loan amount, interest rate, and loan term. It's ideal for financial planning before taking out a loan.</p>
        </div>
    </div>

    <div class="faq-item">
        <div class="faq-question">
            <h3>Is your loan calculator free to use?</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">
            <p>Yes! Our loan calculator is 100% free to use with no sign-ups, hidden fees, or trial limitations. Just enter your details and get instant results‚Äîanytime.</p>
        </div>
    </div>

    <div class="faq-item">
        <div class="faq-question">
            <h3>How accurate are the loan estimates?</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">
            <p>Our calculator provides very accurate estimates based on standard amortization formulas. While actual lender terms may vary slightly, the results give you a solid understanding of what to expect financially.</p>
        </div>
    </div>

    <div class="faq-item">
        <div class="faq-question">
            <h3>Can I calculate loans for different time periods?</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">
            <p>Yes! You can set your loan duration in months or years, whether you're looking at short-term personal loans or long-term home loans. Just adjust the loan term field to your preference.</p>
        </div>
    </div>

    <div class="faq-item">
        <div class="faq-question">
            <h3>Can this calculator be used for business or student loans?</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">
            <p>Absolutely. Our tool is flexible and can be used for personal loans, auto loans, mortgages, business loans, education loans, and more‚Äîjust input the details relevant to your loan.</p>
        </div>
    </div>

    <div class="faq-item">
        <div class="faq-question">
            <h3>Can I use this loan calculator on my phone?</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="faq-answer">
            <p>Yes! The calculator is fully mobile-optimized and works perfectly on all screen sizes. Whether you're at home or meeting with a lender, you can run quick calculations right from your phone.</p>
        </div>
    </div>
</div>
{% endblock %}

{% block body_scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize FAQ accordion
        // Set first FAQ item as active by default
        const firstFaqItem = document.querySelector('.faq-item');
        if (firstFaqItem) {
            firstFaqItem.classList.add('active');
            const firstFaqAnswer = firstFaqItem.querySelector('.faq-answer');
            if (firstFaqAnswer) {
                firstFaqAnswer.style.display = 'block';
            }
        }

        // Add click event listeners to all FAQ questions
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', function() {
                const answer = this.nextElementSibling;
                const icon = this.querySelector('i');
                const faqItem = this.parentElement;

                // Close all other FAQ items
                document.querySelectorAll('.faq-item').forEach(item => {
                    if (item !== faqItem) {
                        const itemAnswer = item.querySelector('.faq-answer');
                        const itemIcon = item.querySelector('.faq-question i');
                        if (itemAnswer) itemAnswer.style.display = 'none';
                        if (itemIcon) itemIcon.style.transform = 'rotate(0deg)';
                        item.classList.remove('active');
                    }
                });

                // Toggle current FAQ item
                if (answer.style.display === 'block') {
                    answer.style.display = 'none';
                    if (icon) icon.style.transform = 'rotate(0deg)';
                    faqItem.classList.remove('active');
                } else {
                    answer.style.display = 'block';
                    if (icon) icon.style.transform = 'rotate(180deg)';
                    faqItem.classList.add('active');
                }
            });
        });

        // Hide all answers initially except the first one
        document.querySelectorAll('.faq-answer').forEach((answer, index) => {
            if (index !== 0) {
                answer.style.display = 'none';
            }
        });
    });

    function calculateLoan() {
        const loanAmount = parseFloat(document.getElementById('loan-amount').value);
        const annualInterestRate = parseFloat(document.getElementById('interest-rate').value) / 100;
        const loanTerm = parseInt(document.getElementById('loan-term').value);

        if (isNaN(loanAmount) || isNaN(annualInterestRate) || isNaN(loanTerm) || loanAmount <= 0 || annualInterestRate <= 0 || loanTerm <= 0) {
            alert('Please enter valid loan details.');
            return;
        }

        const monthlyInterestRate = annualInterestRate / 12;
        const numberOfPayments = loanTerm * 12;
        const monthlyPayment = (loanAmount * monthlyInterestRate) / (1 - Math.pow(1 + monthlyInterestRate, -numberOfPayments));

        // Calculate total payment and interest
        const totalPayment = monthlyPayment * numberOfPayments;
        const totalInterest = totalPayment - loanAmount;

        // Display results
        const resultsDiv = document.getElementById('results');
        const resultDetailsDiv = document.getElementById('result-details');

        resultDetailsDiv.innerHTML = `
            <div class="result-item">
                <strong>Monthly Payment:</strong>
                <span class="result-value">$${monthlyPayment.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
            </div>
            <div class="result-item">
                <strong>Total Principal:</strong>
                <span class="result-value">$${loanAmount.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
            </div>
            <div class="result-item">
                <strong>Total Interest:</strong>
                <span class="result-value">$${totalInterest.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
            </div>
            <div class="result-item">
                <strong>Total Payment:</strong>
                <span class="result-value">$${totalPayment.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
            </div>
        `;

        resultsDiv.classList.add('show');
    }

    function resetCalculator() {
        // Clear inputs
        document.getElementById('loan-amount').value = '';
        document.getElementById('interest-rate').value = '';
        document.getElementById('loan-term').value = '';

        // Hide results
        const resultsDiv = document.getElementById('results');
        resultsDiv.classList.remove('show');

        // Focus on loan amount input
        document.getElementById('loan-amount').focus();
    }
</script>
{% endblock %}
